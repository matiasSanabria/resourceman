<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prioridades</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        .row.content {
            height: 60.1rem;
        }
        .sidenav {
            background-color: #00796b;
            height: 70rem;
        }
        footer {
            background-color: #FF6F00;
            color: white;
        }
        body {
            background-color: #eeeeee;
        }
        h3 {
            text-align: center;
            margin-left: 30%;
            margin-top:50px;
        }
        #mitabla{
            margin: auto;
            display: table;
            width: 80%;
        }

        #agregar{
            float: right;
            margin-right: 4rem;
            margin-bottom: 1em;
        }
    </style>
</head>
<body>
{%include 'navbar.html'%}
{%include 'sidenav.html'%}
<h3 style="margin-left: 350px;">Prioridades<a href="{% url 'agregarPrioridad' %}">
    <button id="agregar" type="button" class="btn btn-success btn-lg">Agregar</button></a>
</h3>
<div id="mitabla">
    <table class="table table-hover" id="datatable">

        <thead>
        <tr>
            <th>Prioridad</th>
            <th>Codigo</th>
            <th>Descripcion</th>
            <th>Bajar Prioridad</th>
            <th>Subir Prioridad</th>
            <th>Modificar</th>
        </tr>
        </thead>
        <tbody>
        {% for prioridad in prioridades %}
            <tr>
                <td>{{prioridad.prioridad}}</td>
                <td>{{prioridad.codigo}}</td>
                <td>{{prioridad.descripcion}}</td>
                <td><a href="{% url 'bajarPrioridad' codigo=prioridad.codigo %}"><button type="button" class="btn btn-primary btn-sm">Bajar</button></a></td>
                <td><a href="{% url 'subirPrioridad' codigo=prioridad.codigo %}"><button type="button" class="btn btn-primary btn-sm">Subir</button></a></td>
                <td><a href="{% url 'editarPrioridad' codigo=prioridad.codigo %}"><button type="button" class="btn btn-primary btn-sm">Editar</button></a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<link href="https://cdn.datatables.net/r/bs-3.3.5/jq-2.1.4,dt-1.10.8/datatables.min.css" rel="stylesheet" type="text/css" />
<script src = "https://cdn.datatables.net/r/bs-3.3.5/jqc-1.11.3,dt-1.10.8/datatables.min.js" type="text/javascript"></script>
<script type="text/javascript">
var datatable;
$(function(){
  datatable = $('#datatable').DataTable({
        "order": [[ 0, "desc" ]],
        language: {
            processing: "Procesando...",
            search: "Buscar: ",
            lengthMenu: "Ver _MENU_ elementos",
            info: "Mostrando _START_ a _END_ de _TOTAL_ elementos",
            infoEmpty: "Mostrando 0 a 0 de 0 elementos",
            infoFiltered: "(filtro total de _MAX_ elementos)",
            infoPostFix: "",
            loadingRecords: "Cargando...",
            zeroRecords: "No hay datos para mostrar",
            emptyTable: "No hay datos disponibles en la tabla",
            paginate: {
                first: "Primero",
                previous: "Anterior",
                next: "Siguiente",
                last: "Ultimo"
            },
            aria: {
                sortAscending: ": activar la columna para ordenar ascendente",
                sortDescending: ": activar la columna para ordenar en orden descendente"
            }
        }

    });
});
</script>
</body>
</html>